// ============================================================================
// About Me Component Styles with Accessibility Enhancements
// ============================================================================
// NOTE: Global focus styles are centralized in src/styles/generic/_generic.scss
// Component-specific focus styles below only override when needed for special cases
// ============================================================================

.about-me {
  // Images
  img {
    object-fit: cover;
    width: 40%;

    // Heart icon
    &.love {
      width: rem-calc(20);
      height: rem-calc(20);
      pointer-events: none; // Prevent icon from being a separate target
    }

    // Social network icons
    &.social-net {
      width: rem-calc(16);
      height: rem-calc(16);
      pointer-events: none;

      &.gmail {
        width: rem-calc(26);
        height: rem-calc(22);
      }

      svg {
        fill: #ffcc00;
      }
    }
  }

  // Offcanvas takes full height
  .offcanvas.offcanvas-bottom {
    height: 100%;
  }

  // Profile card article
  article.card {
    transition: transform 0.3s ease;

    &:hover {
      transform: translateY(-2px);
    }
  }

  // H1 title with programmatic focus (tabindex="-1")
  // This allows focus without adding to tab order
  // NOTE: Programmatic focus styling handled by centralized focus system
  .offcanvas-title {
    &:focus {
      outline: 3px solid transparent; // Remove visible outline for programmatic focus
    }
  }

  // Section headings with proper focus
  // NOTE: Using centralized focus mixin
  section {
    h3 {
      &:focus {
        @include focus-visible-styles;
      }
    }
  }

  // Close button accessibility
  // NOTE: Using centralized focus mixin
  .btn-close {
    min-width: 44px;
    min-height: 44px;
    padding: rem-calc(12);

    &:focus-visible {
      @include focus-visible-styles;
    }
  }

  // Gradient backgrounds
  .cg {
    &-1 {
      background-color: #0093e9;
      background-image: linear-gradient(160deg, #0093e9 0%, #80d0c7 100%);
    }
    &-2 {
      background-color: #fbab7e;
      background-image: linear-gradient(62deg, #fbab7e 0%, #f7ce68 100%);
    }
  }

  // LinkedIn button
  .linkedin.btn-primary {
    background-color: var(--linkedin);
    color: var(--bs-button-text);
    // WCAG 2.1 Level AAA touch target size
    min-width: 44px;
    min-height: 44px;
    padding: rem-calc(8 16);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    border: 2px solid transparent;
    transition: all 0.3s ease;

    a {
      color: var(--bs-button-text);
    }

    &:hover,
    &:focus {
      background-color: var(--bs-bg-color);
      color: var(--linkedin);
      border-color: var(--linkedin);
      transform: translateY(-2px);

      a {
        color: var(--linkedin);
      }
    }

    // NOTE: Using centralized focus mixin
    &:focus-visible {
      @include focus-visible-styles;
    }
  }

  // Gmail button
  .gmail.btn-primary {
    background-color: var(--gmail);
    border-color: var(--pink-900);
    color: var(--bs-bg-color);
    // WCAG 2.1 Level AAA touch target size
    min-width: 44px;
    min-height: 44px;
    padding: rem-calc(8 16);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    border: 2px solid var(--pink-900);
    transition: all 0.3s ease;

    a {
      color: var(--bs-button-text);
    }

    &:hover,
    &:focus {
      background-color: var(--bs-bg-color);
      color: var(--gmail);
      border-color: var(--gmail);
      transform: translateY(-2px);

      a {
        color: var(--gmail);
      }
    }

    // NOTE: Using centralized focus mixin
    &:focus-visible {
      @include focus-visible-styles;
    }
  }

  // Download CV button
  .my-cv.btn-primary {
    min-width: 44px;
    min-height: 44px;
    padding: rem-calc(12 16);
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.3s ease;

    &:hover,
    &:focus {
      transform: translateY(-2px);
    }

    // NOTE: Using centralized focus mixin
    &:focus-visible {
      @include focus-visible-styles;
    }
  }

  // Screen reader only text
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  // Heading that receives focus
  // NOTE: Using centralized focus mixin
  .offcanvas-title {
    &:focus {
      @include focus-visible-styles;
    }
  }
}

// ============================================================================
// Media Queries for Enhanced Accessibility
// ============================================================================

// High contrast mode support
@media (prefers-contrast: high) {
  .about-me {
    .card,
    article {
      border: rem-calc(2) solid currentColor !important;
    }

    .btn-primary {
      border: rem-calc(2) solid currentColor !important;
    }

    .offcanvas {
      border: rem-calc(2) solid currentColor;
    }
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .about-me {
    * {
      transition: none !important;
      animation: none !important;
    }

    .offcanvas {
      transition: none !important;
    }

    article.card:hover,
    .btn-primary:hover,
    .btn-primary:focus {
      transform: none !important;
    }
  }
}

// Print styles
@media print {
  .about-me {
    .btn-close,
    .offcanvas-header {
      display: none !important;
    }

    .offcanvas {
      position: static !important;
      height: auto !important;
    }

    a[href^="mailto"],
    a[target="_blank"] {
      &::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
      }
    }
  }
}
